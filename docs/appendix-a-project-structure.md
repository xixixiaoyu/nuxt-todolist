# é™„å½• A: é¡¹ç›®ç»“æ„è¯¦è§£

æœ¬æ–‡æ¡£è¯¦ç»†è§£é‡Šäº† Nuxt.js 3 TodoList é¡¹ç›®çš„æ–‡ä»¶ç»„ç»‡ç»“æ„å’Œå„ä¸ªç›®å½•çš„ä½œç”¨ã€‚

## ğŸ“ å®Œæ•´é¡¹ç›®ç»“æ„

```
nuxt-todolist/
â”œâ”€â”€ .env.example                 # ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶
â”œâ”€â”€ .gitignore                   # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ .nuxt/                       # Nuxt æ„å»ºè¾“å‡ºç›®å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ .output/                     # ç”Ÿäº§æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ app.vue                      # æ ¹åº”ç”¨ç»„ä»¶
â”œâ”€â”€ assets/                      # é™æ€èµ„æºç›®å½•
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ main.css            # å…¨å±€æ ·å¼æ–‡ä»¶
â”œâ”€â”€ components/                  # Vue ç»„ä»¶ç›®å½•
â”‚   â”œâ”€â”€ AppHeader.vue           # åº”ç”¨å¤´éƒ¨ç»„ä»¶
â”‚   â”œâ”€â”€ ErrorMessage.vue        # é”™è¯¯æ¶ˆæ¯ç»„ä»¶
â”‚   â”œâ”€â”€ LoadingSpinner.vue      # åŠ è½½åŠ¨ç”»ç»„ä»¶
â”‚   â”œâ”€â”€ TodoFilters.vue         # Todo è¿‡æ»¤å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ TodoForm.vue            # Todo è¡¨å•ç»„ä»¶
â”‚   â”œâ”€â”€ TodoItem.vue            # Todo é¡¹ç›®ç»„ä»¶
â”‚   â”œâ”€â”€ TodoList.vue            # Todo åˆ—è¡¨ç»„ä»¶
â”‚   â””â”€â”€ TodoStats.vue           # Todo ç»Ÿè®¡ç»„ä»¶
â”œâ”€â”€ composables/                 # ç»„åˆå¼å‡½æ•°ç›®å½•
â”œâ”€â”€ docs/                        # é¡¹ç›®æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ README.md               # æ–‡æ¡£ç´¢å¼•
â”‚   â”œâ”€â”€ 01-project-setup.md     # é¡¹ç›®åˆå§‹åŒ–æ–‡æ¡£
â”‚   â”œâ”€â”€ 02-nuxt-config.md       # Nuxt é…ç½®æ–‡æ¡£
â”‚   â”œâ”€â”€ 03-typescript-types.md  # TypeScript ç±»å‹æ–‡æ¡£
â”‚   â”œâ”€â”€ 04-supabase-setup.md    # Supabase é›†æˆæ–‡æ¡£
â”‚   â”œâ”€â”€ 05-database-design.md   # æ•°æ®åº“è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ 06-api-routes.md        # API è·¯ç”±æ–‡æ¡£
â”‚   â”œâ”€â”€ 07-state-management.md  # çŠ¶æ€ç®¡ç†æ–‡æ¡£
â”‚   â”œâ”€â”€ appendix-a-project-structure.md  # é¡¹ç›®ç»“æ„è¯¦è§£
â”‚   â”œâ”€â”€ appendix-b-best-practices.md     # æœ€ä½³å®è·µæ€»ç»“
â”‚   â”œâ”€â”€ appendix-c-faq.md               # å¸¸è§é—®é¢˜è§£ç­”
â”‚   â””â”€â”€ appendix-d-extensions.md        # æ‰©å±•åŠŸèƒ½å»ºè®®
â”œâ”€â”€ layouts/                     # å¸ƒå±€ç»„ä»¶ç›®å½•
â”‚   â””â”€â”€ default.vue             # é»˜è®¤å¸ƒå±€
â”œâ”€â”€ middleware/                  # è·¯ç”±ä¸­é—´ä»¶ç›®å½•
â”‚   â”œâ”€â”€ auth.ts                 # è®¤è¯ä¸­é—´ä»¶
â”‚   â””â”€â”€ guest.ts                # è®¿å®¢ä¸­é—´ä»¶
â”œâ”€â”€ node_modules/               # ä¾èµ–åŒ…ç›®å½•
â”œâ”€â”€ nuxt.config.ts              # Nuxt é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json                # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ pages/                      # é¡µé¢ç»„ä»¶ç›®å½•
â”‚   â”œâ”€â”€ auth/                   # è®¤è¯ç›¸å…³é¡µé¢
â”‚   â”‚   â”œâ”€â”€ login.vue          # ç™»å½•é¡µé¢
â”‚   â”‚   â””â”€â”€ register.vue       # æ³¨å†Œé¡µé¢
â”‚   â””â”€â”€ index.vue              # é¦–é¡µ
â”œâ”€â”€ plugins/                    # Nuxt æ’ä»¶ç›®å½•
â”‚   â”œâ”€â”€ error-handler.client.ts # å®¢æˆ·ç«¯é”™è¯¯å¤„ç†æ’ä»¶
â”‚   â”œâ”€â”€ init.client.ts          # å®¢æˆ·ç«¯åˆå§‹åŒ–æ’ä»¶
â”‚   â””â”€â”€ supabase.client.ts      # Supabase å®¢æˆ·ç«¯æ’ä»¶
â”œâ”€â”€ pnpm-lock.yaml              # pnpm é”å®šæ–‡ä»¶
â”œâ”€â”€ public/                     # å…¬å…±é™æ€èµ„æºç›®å½•
â”‚   â”œâ”€â”€ favicon.ico            # ç½‘ç«™å›¾æ ‡
â”‚   â””â”€â”€ robots.txt             # æœç´¢å¼•æ“çˆ¬è™«é…ç½®
â”œâ”€â”€ server/                     # æœåŠ¡ç«¯ä»£ç ç›®å½•
â”‚   â”œâ”€â”€ api/                   # API è·¯ç”±ç›®å½•
â”‚   â”‚   â”œâ”€â”€ categories/        # åˆ†ç±»ç›¸å…³ API
â”‚   â”‚   â”‚   â”œâ”€â”€ index.get.ts   # è·å–åˆ†ç±»åˆ—è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ index.post.ts  # åˆ›å»ºåˆ†ç±»
â”‚   â”‚   â””â”€â”€ todos/             # Todo ç›¸å…³ API
â”‚   â”‚       â”œâ”€â”€ [id].delete.ts # åˆ é™¤ Todo
â”‚   â”‚       â”œâ”€â”€ [id].put.ts    # æ›´æ–° Todo
â”‚   â”‚       â”œâ”€â”€ index.get.ts   # è·å– Todo åˆ—è¡¨
â”‚   â”‚       â””â”€â”€ index.post.ts  # åˆ›å»º Todo
â”‚   â”œâ”€â”€ middleware/            # æœåŠ¡ç«¯ä¸­é—´ä»¶
â”‚   â””â”€â”€ utils/                 # æœåŠ¡ç«¯å·¥å…·å‡½æ•°
â”œâ”€â”€ stores/                    # Pinia çŠ¶æ€ç®¡ç†ç›®å½•
â”‚   â”œâ”€â”€ auth.ts               # è®¤è¯çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ todos.ts              # Todo çŠ¶æ€ç®¡ç†
â”œâ”€â”€ supabase-setup.sql        # Supabase æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ test-app.js               # åº”ç”¨æµ‹è¯•è„šæœ¬
â”œâ”€â”€ tsconfig.json             # TypeScript é…ç½®
â”œâ”€â”€ types/                    # TypeScript ç±»å‹å®šä¹‰ç›®å½•
â”‚   â”œâ”€â”€ database.ts           # æ•°æ®åº“ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts              # ä¸»è¦ç±»å‹å¯¼å‡º
â””â”€â”€ utils/                    # å®¢æˆ·ç«¯å·¥å…·å‡½æ•°ç›®å½•
    â”œâ”€â”€ responsive.ts         # å“åº”å¼å·¥å…·å‡½æ•°
    â””â”€â”€ validation.ts         # è¡¨å•éªŒè¯å·¥å…·å‡½æ•°
```

## ğŸ“‚ ç›®å½•è¯¦ç»†è¯´æ˜

### æ ¸å¿ƒé…ç½®æ–‡ä»¶

#### `nuxt.config.ts`
Nuxt.js çš„ä¸»é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†ï¼š
- æ¨¡å—é…ç½®ï¼ˆ@nuxt/ui, @pinia/nuxt ç­‰ï¼‰
- è¿è¡Œæ—¶é…ç½®ï¼ˆç¯å¢ƒå˜é‡ï¼‰
- æ„å»ºé…ç½®
- å¼€å‘æœåŠ¡å™¨é…ç½®

#### `package.json`
é¡¹ç›®çš„åŒ…ç®¡ç†é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«ï¼š
- é¡¹ç›®å…ƒä¿¡æ¯
- ä¾èµ–åŒ…åˆ—è¡¨
- è„šæœ¬å‘½ä»¤
- é¡¹ç›®é…ç½®

#### `tsconfig.json`
TypeScript ç¼–è¯‘é…ç½®ï¼Œç»§æ‰¿è‡ª Nuxt è‡ªåŠ¨ç”Ÿæˆçš„é…ç½®ã€‚

### åº”ç”¨å…¥å£

#### `app.vue`
åº”ç”¨çš„æ ¹ç»„ä»¶ï¼Œå®šä¹‰äº†ï¼š
- å…¨å±€å¸ƒå±€ç»“æ„
- è·¯ç”±å‡ºå£
- å…¨å±€ç»„ä»¶

### é™æ€èµ„æº

#### `assets/`
éœ€è¦æ„å»ºå¤„ç†çš„é™æ€èµ„æºï¼š
- CSS æ–‡ä»¶
- å›¾ç‰‡èµ„æº
- å­—ä½“æ–‡ä»¶

#### `public/`
ç›´æ¥æä¾›çš„é™æ€èµ„æºï¼š
- favicon.ico
- robots.txt
- å…¶ä»–ä¸éœ€è¦æ„å»ºå¤„ç†çš„æ–‡ä»¶

### ç»„ä»¶ç³»ç»Ÿ

#### `components/`
Vue ç»„ä»¶ç›®å½•ï¼ŒNuxt ä¼šè‡ªåŠ¨å¯¼å…¥ï¼š
- **AppHeader.vue**: åº”ç”¨å¤´éƒ¨ï¼ŒåŒ…å«å¯¼èˆªå’Œç”¨æˆ·èœå•
- **TodoForm.vue**: Todo åˆ›å»º/ç¼–è¾‘è¡¨å•
- **TodoList.vue**: Todo åˆ—è¡¨å®¹å™¨
- **TodoItem.vue**: å•ä¸ª Todo é¡¹ç›®
- **TodoFilters.vue**: è¿‡æ»¤å’Œæœç´¢ç»„ä»¶
- **TodoStats.vue**: ç»Ÿè®¡ä¿¡æ¯æ˜¾ç¤º
- **LoadingSpinner.vue**: åŠ è½½åŠ¨ç”»ç»„ä»¶
- **ErrorMessage.vue**: é”™è¯¯æ¶ˆæ¯æ˜¾ç¤ºç»„ä»¶

#### `layouts/`
å¸ƒå±€ç»„ä»¶ç›®å½•ï¼š
- **default.vue**: é»˜è®¤å¸ƒå±€ï¼ŒåŒ…å«åŸºæœ¬çš„é¡µé¢ç»“æ„

### è·¯ç”±ç³»ç»Ÿ

#### `pages/`
åŸºäºæ–‡ä»¶çš„è·¯ç”±ç³»ç»Ÿï¼š
- **index.vue**: é¦–é¡µï¼ˆ`/`ï¼‰
- **auth/login.vue**: ç™»å½•é¡µé¢ï¼ˆ`/auth/login`ï¼‰
- **auth/register.vue**: æ³¨å†Œé¡µé¢ï¼ˆ`/auth/register`ï¼‰

#### `middleware/`
è·¯ç”±ä¸­é—´ä»¶ï¼š
- **auth.ts**: è®¤è¯ä¸­é—´ä»¶ï¼Œä¿æŠ¤éœ€è¦ç™»å½•çš„é¡µé¢
- **guest.ts**: è®¿å®¢ä¸­é—´ä»¶ï¼Œå·²ç™»å½•ç”¨æˆ·ä¸èƒ½è®¿é—®çš„é¡µé¢

### æœåŠ¡ç«¯ä»£ç 

#### `server/api/`
API è·¯ç”±ç›®å½•ï¼Œä½¿ç”¨æ–‡ä»¶åçº¦å®šï¼š
- **todos/index.get.ts**: `GET /api/todos`
- **todos/index.post.ts**: `POST /api/todos`
- **todos/[id].put.ts**: `PUT /api/todos/:id`
- **todos/[id].delete.ts**: `DELETE /api/todos/:id`
- **categories/index.get.ts**: `GET /api/categories`
- **categories/index.post.ts**: `POST /api/categories`

#### `server/middleware/`
æœåŠ¡ç«¯ä¸­é—´ä»¶ï¼Œåœ¨æ‰€æœ‰ API è·¯ç”±ä¹‹å‰æ‰§è¡Œã€‚

#### `server/utils/`
æœåŠ¡ç«¯å·¥å…·å‡½æ•°ï¼Œå¯åœ¨ API è·¯ç”±ä¸­ä½¿ç”¨ã€‚

### çŠ¶æ€ç®¡ç†

#### `stores/`
Pinia çŠ¶æ€ç®¡ç†ï¼š
- **auth.ts**: ç”¨æˆ·è®¤è¯çŠ¶æ€
  - ç”¨æˆ·ä¿¡æ¯
  - ç™»å½•/æ³¨å†Œ/ç™»å‡ºæ–¹æ³•
  - è®¤è¯çŠ¶æ€ç›‘å¬
- **todos.ts**: Todo æ•°æ®çŠ¶æ€
  - Todo åˆ—è¡¨
  - CRUD æ“ä½œæ–¹æ³•
  - è¿‡æ»¤å’Œæœç´¢çŠ¶æ€

### æ’ä»¶ç³»ç»Ÿ

#### `plugins/`
Nuxt æ’ä»¶ç›®å½•ï¼š
- **supabase.client.ts**: Supabase å®¢æˆ·ç«¯åˆå§‹åŒ–
- **init.client.ts**: å®¢æˆ·ç«¯åˆå§‹åŒ–é€»è¾‘
- **error-handler.client.ts**: å…¨å±€é”™è¯¯å¤„ç†

### ç±»å‹å®šä¹‰

#### `types/`
TypeScript ç±»å‹å®šä¹‰ï¼š
- **database.ts**: æ•°æ®åº“ç›¸å…³ç±»å‹
- **index.ts**: åº”ç”¨ä¸»è¦ç±»å‹å’Œå¯¼å‡º

### å·¥å…·å‡½æ•°

#### `utils/`
å®¢æˆ·ç«¯å·¥å…·å‡½æ•°ï¼š
- **validation.ts**: è¡¨å•éªŒè¯å·¥å…·
- **responsive.ts**: å“åº”å¼è®¾è®¡å·¥å…·

#### `composables/`
Vue ç»„åˆå¼å‡½æ•°ï¼ˆè‡ªåŠ¨å¯¼å…¥ï¼‰

## ğŸ”§ æ–‡ä»¶å‘½åçº¦å®š

### ç»„ä»¶å‘½å
- **PascalCase**: `TodoForm.vue`, `AppHeader.vue`
- ä½¿ç”¨æè¿°æ€§åç§°ï¼Œä½“ç°ç»„ä»¶åŠŸèƒ½

### é¡µé¢å‘½å
- **kebab-case**: `login.vue`, `register.vue`
- å¯¹åº” URL è·¯å¾„

### API è·¯ç”±å‘½å
- **HTTP æ–¹æ³• + æ‰©å±•å**: `index.get.ts`, `[id].put.ts`
- ä½¿ç”¨ RESTful çº¦å®š

### ç±»å‹æ–‡ä»¶å‘½å
- **kebab-case**: `database.ts`, `api-types.ts`
- ä½¿ç”¨æè¿°æ€§åç§°

### å·¥å…·å‡½æ•°å‘½å
- **kebab-case**: `validation.ts`, `date-utils.ts`
- æŒ‰åŠŸèƒ½åˆ†ç»„

## ğŸ“‹ æ–‡ä»¶ä½œç”¨æ€»ç»“

| ç›®å½•/æ–‡ä»¶ | ä½œç”¨ | è‡ªåŠ¨å¯¼å…¥ |
|-----------|------|----------|
| `components/` | Vue ç»„ä»¶ | âœ… |
| `composables/` | ç»„åˆå¼å‡½æ•° | âœ… |
| `layouts/` | å¸ƒå±€ç»„ä»¶ | âœ… |
| `middleware/` | è·¯ç”±ä¸­é—´ä»¶ | âœ… |
| `pages/` | é¡µé¢ç»„ä»¶ï¼ˆè·¯ç”±ï¼‰ | âœ… |
| `plugins/` | Nuxt æ’ä»¶ | âœ… |
| `server/api/` | API è·¯ç”± | âœ… |
| `stores/` | Pinia çŠ¶æ€ç®¡ç† | âœ… |
| `utils/` | å·¥å…·å‡½æ•° | âœ… |
| `types/` | ç±»å‹å®šä¹‰ | âŒ |
| `assets/` | æ„å»ºèµ„æº | âŒ |
| `public/` | é™æ€èµ„æº | âŒ |

## ğŸ¯ æœ€ä½³å®è·µ

### 1. ç›®å½•ç»„ç»‡
- æŒ‰åŠŸèƒ½è€ŒéæŠ€æœ¯åˆ†ç»„
- ä¿æŒç›®å½•ç»“æ„æ‰å¹³
- ä½¿ç”¨æ¸…æ™°çš„å‘½åçº¦å®š

### 2. æ–‡ä»¶å¤§å°
- å•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡ 300 è¡Œ
- å¤æ‚ç»„ä»¶æ‹†åˆ†ä¸ºå­ç»„ä»¶
- å¤§å‹å·¥å…·å‡½æ•°æŒ‰åŠŸèƒ½åˆ†å‰²

### 3. ä¾èµ–å…³ç³»
- é¿å…å¾ªç¯ä¾èµ–
- æ˜ç¡®ä¾èµ–å±‚æ¬¡
- ä½¿ç”¨ç±»å‹å¯¼å…¥å‡å°‘æ‰“åŒ…ä½“ç§¯

### 4. ä»£ç ç»„ç»‡
- ç›¸å…³æ–‡ä»¶æ”¾åœ¨åŒä¸€ç›®å½•
- ä½¿ç”¨ index æ–‡ä»¶ç»Ÿä¸€å¯¼å‡º
- ä¿æŒå¯¼å…¥è·¯å¾„ç®€æ´

è¿™ç§é¡¹ç›®ç»“æ„è®¾è®¡éµå¾ªäº† Nuxt.js 3 çš„çº¦å®šï¼ŒåŒæ—¶ä¿æŒäº†è‰¯å¥½çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚
